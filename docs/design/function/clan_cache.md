# 工会缓存功能设计

## 实现功能

1. **工会对战对战数据记录**

    - 功能: 记录工会工会战的对战记录

    - 数据: 根据工会的对战时间来判断是否有更新数据

2. **工会排行榜**

    - 功能: 根据工会的积分来制作排行榜

    - 数据: 当前赛季的所有工会积分

## 数据库设计思路

## 具体功能实现原理

### 工会排行榜

通过游戏工会排名相关接口获取当前服务器最新赛季的排行榜数据

每5分钟遍历所有服务器的所有段位的工会数据，将赛季排名数据和赛季代码post给接口

接口收到数据后，首先检查获取到最新的赛季代码是否和储存的赛季代码一致

如果最新的赛季代码和储存的赛季代码不一致，说明赛季更新，需要初始化工会赛季数据

收到赛季排名数据后，首先先检查工会id是否存在
